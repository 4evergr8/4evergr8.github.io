<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>常用工具合集</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center; /* 水平居中 */
            justify-content: center; /* 垂直居中 */
            height: 100vh; /* 视口高度 */
            margin: 0; /* 去掉默认的边距 */
            font-family: Arial, sans-serif; /* 设置字体 */
        }
        h1 {
            margin-bottom: 20px; /* 标题与其他内容之间的间距 */
        }
        p {
            margin: 5px 0; /* 段落上下间距 */
        }
        #ping-results {
            width: 100%;
            text-align: center; /* 内容居中 */
        }
    </style>
    <script>
        // 获取 IP 地址并查询地理位置
        function getIp() {
            fetch('https://qifu-api.baidubce.com/ip/local/geo/v1/district?ip=myip', {
                method: 'GET',
                headers: {
                    // 如果需要认证，请在这里添加Authorization头
                }
            })
                .then(response => response.json())
                .then(data => {
                    if (data.code === "Success") {
                        const ip = data.ip;
                        const city = data.data.city;
                        const district = data.data.district;
                        const isp = data.data.isp;
                        const zipcode = data.data.zipcode;

                        document.getElementById('ip').innerText = '您的 IP 地址是: ' + ip;
                        document.getElementById('location').innerText = `您所在的位置: ${data.data.prov}, ${city}, ${district}`;
                        document.getElementById('isp').innerText = '运营商: ' + isp;
                        document.getElementById('zipcode').innerText = '邮政编码: ' + zipcode;
                    } else {
                        document.getElementById('ip').innerText = '无法获取 IP 地址';
                    }
                })
                .catch(error => {
                    console.error('获取 IP 地址时出错:', error);
                });
        }

        async function pingAndDisplayResult(url) {
            const resultsContainer = document.getElementById('ping-results');

            const startTime = performance.now(); // 开始时间
            const timeout = setTimeout(() => {
                const p = document.createElement('p');
                p.innerText = `${url} - 超时`;
                resultsContainer.appendChild(p);
            }, 3000); // 超时设置为 3000ms

            try {
                await fetch(`https://${url}`, { method: 'HEAD', mode: 'no-cors' });
                clearTimeout(timeout);
                const endTime = performance.now(); // 结束时间
                const p = document.createElement('p');
                p.innerText = `${url} - ${(endTime - startTime).toFixed(2)}ms`;
                resultsContainer.appendChild(p);
            } catch {
                clearTimeout(timeout);
                const p = document.createElement('p');
                p.innerText = `${url} - 不可达`;
                resultsContainer.appendChild(p);
            }
        }


        // 在页面加载时调用函数
        window.onload = async function() {
            getIp(); // 获取 IP 地址等信息
            await pingAndDisplayResult('bilibili.com');
            await pingAndDisplayResult('github.com');
            await pingAndDisplayResult('steampowered.com');
            await pingAndDisplayResult('google.com');
            await pingAndDisplayResult('twitter.com');

        };




    </script>
</head>
<body>
<h1>常用工具合集</h1>
<p id="ip">正在获取您的 IP 地址...</p>
<p id="location">正在获取您的位置...</p>
<p id="isp">正在获取运营商信息...</p>
<p id="zipcode">正在获取邮政编码...</p>
<a href="/tools/base64.html">Base64解码</a>
<a href="/tools/beast.html">兽音译者</a>
<a href="/tools/AV&BV.html">AVBV转换</a>
<a href="http://hi.pcmoe.net/index.html">与熊论道</a>
<a href="http://hi.pcmoe.net/buddha.html">佛曰解密</a>
<a href="https://test-ipv6.csclub.uwaterloo.ca/index.html.zh_CN">IPv6测试</a>
<h3>Ping 测试结果</h3>
<div id="ping-results"></div> <!-- 确保存在该容器 -->

</body>
</html>
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>常用工具合集</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center; /* 水平居中 */
            justify-content: center; /* 垂直居中 */
            height: 100vh; /* 视口高度 */
            margin: 0; /* 去掉默认的边距 */
            font-family: Arial, sans-serif; /* 设置字体 */
        }
        h1 {
            margin-bottom: 20px; /* 标题与其他内容之间的间距 */
        }
        p {
            margin: 5px 0; /* 段落上下间距 */
        }
        #ping-results {
            width: 100%;
            text-align: center; /* 内容居中 */
        }
    </style>
    <script>
        // 获取 IP 地址并查询地理位置
        function getIp() {
            fetch('https://qifu-api.baidubce.com/ip/local/geo/v1/district?ip=myip', {
                method: 'GET',
                headers: {
                    // 如果需要认证，请在这里添加Authorization头
                }
            })
                .then(response => response.json())
                .then(data => {
                    if (data.code === "Success") {
                        const ip = data.ip;
                        const city = data.data.city;
                        const district = data.data.district;
                        const isp = data.data.isp;
                        const zipcode = data.data.zipcode;

                        document.getElementById('ip').innerText = '您的 IP 地址是: ' + ip;
                        document.getElementById('location').innerText = `您所在的位置: ${data.data.prov}, ${city}, ${district}`;
                        document.getElementById('isp').innerText = '运营商: ' + isp;
                        document.getElementById('zipcode').innerText = '邮政编码: ' + zipcode;
                    } else {
                        document.getElementById('ip').innerText = '无法获取 IP 地址';
                    }
                })
                .catch(error => {
                    console.error('获取 IP 地址时出错:', error);
                });
        }

        async function pingAndDisplayResult(url) {
            const resultsContainer = document.getElementById('ping-results');

            const startTime = performance.now(); // 开始时间
            const timeout = setTimeout(() => {
                const p = document.createElement('p');
                p.innerText = `${url} - 超时`;
                resultsContainer.appendChild(p);
            }, 3000); // 超时设置为 3000ms

            try {
                await fetch(`https://${url}`, { method: 'HEAD', mode: 'no-cors' });
                clearTimeout(timeout);
                const endTime = performance.now(); // 结束时间
                const p = document.createElement('p');
                p.innerText = `${url} - ${(endTime - startTime).toFixed(2)}ms`;
                resultsContainer.appendChild(p);
            } catch {
                clearTimeout(timeout);
                const p = document.createElement('p');
                p.innerText = `${url} - 不可达`;
                resultsContainer.appendChild(p);
            }
        }


        // 在页面加载时调用函数
        window.onload = async function() {
            getIp(); // 获取 IP 地址等信息
            await pingAndDisplayResult('bilibili.com');
            await pingAndDisplayResult('github.com');
            await pingAndDisplayResult('steampowered.com');
            await pingAndDisplayResult('google.com');
            await pingAndDisplayResult('twitter.com');

        };




    </script>
</head>
<body>
<h1>常用工具合集</h1>
<p id="ip">正在获取您的 IP 地址...</p>
<p id="location">正在获取您的位置...</p>
<p id="isp">正在获取运营商信息...</p>
<p id="zipcode">正在获取邮政编码...</p>
<a href="/tools/base64.html">Base64解码</a>
<a href="/tools/beast.html">兽音译者</a>
<a href="/tools/AV&BV.html">AVBV转换</a>
<a href="http://hi.pcmoe.net/index.html">与熊论道</a>
<a href="http://hi.pcmoe.net/buddha.html">佛曰解密</a>
<a href="https://test-ipv6.csclub.uwaterloo.ca/index.html.zh_CN">IPv6测试</a>
<h3>Ping 测试结果</h3>
<div id="ping-results"></div> <!-- 确保存在该容器 -->

</body>
</html>
