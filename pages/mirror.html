<!DOCTYPE html>
<html lang="zh">
<head>
    <link rel="stylesheet" href="/resources/css/style.css"/>
    <link rel="icon" href="/resources/icon.png" type="image/png">
    <link rel="shortcut icon" href="/resources/icon.png" type="image/png">
    <meta name="apple-touch-icon" content="/resources/icon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš«ç…§é•œå­ğŸš«</title>

    <style>
        video {
            width: 100%;
            height: auto; /* è‡ªåŠ¨è°ƒæ•´é«˜åº¦ä»¥ä¿æŒçºµæ¨ªæ¯” */
            max-width: 600px; /* æœ€å¤§å®½åº¦ */
            aspect-ratio: 3 / 4; /* è®¾ç½®çºµå‘4:3æ¯”ä¾‹ */
            border: 1px solid black;
        }

        body {
            background-size: cover;
            background-image: url('https://bing.img.run/rand_1366x768.php');
            display: flex;
            flex-direction: column;
            align-items: center; /* æ°´å¹³å±…ä¸­ */
            justify-content: center; /* å‚ç›´å±…ä¸­ */
            height: 100vh; /* è§†å£é«˜åº¦ */
            margin: 0; /* å»æ‰é»˜è®¤çš„è¾¹è· */
            font-family: Arial, sans-serif; /* è®¾ç½®å­—ä½“ */
        }

        .content {
            background-color: rgba(255, 255, 255, 0.8); /* åŠé€æ˜ç™½è‰²èƒŒæ™¯ */
            border-radius: 10px; /* åœ†è§’ */
            padding: 20px; /* å†…è¾¹è· */
            display: flex;
            flex-direction: column;

            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); /* é˜´å½±æ•ˆæœ */
            text-align: center; /* æ–‡æœ¬å±…ä¸­ */
            max-width: 600px; /* æœ€å¤§å®½åº¦ */
            width: 90%; /* å®½åº¦ä¸ºè§†å£çš„90% */
        }


        input {
            padding: 10px; /* è¾“å…¥æ¡†å†…è¾¹è· */
            width: 250px; /* è¾“å…¥æ¡†å®½åº¦ */
            margin-right: 10px; /* è¾“å…¥æ¡†å’ŒæŒ‰é’®ä¹‹é—´çš„é—´è· */
        }

        button {
            padding: 10px 20px; /* æŒ‰é’®å†…è¾¹è· */
            cursor: pointer; /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ‰‹å‹ */
        }
        img {
            max-width: 60%; /* å›¾ç‰‡æœ€å¤§å®½åº¦ä¸º100% */
            border-radius: 10px; /* å›¾ç‰‡åœ†è§’ */
            margin-top: 20px; /* å›¾ç‰‡ä¸å…¶ä»–å†…å®¹ä¹‹é—´çš„é—´è· */
            align-self: center;
        }
    </style>
</head>
<body>
<div class="content">


    <h1>ğŸš«ç…§é•œå­ğŸš«</h1>
    <h3>è¿™æ˜¯æ‰˜ç®¡åœ¨GitHubPagesä¸Šçš„é™æ€ç½‘ç«™ï¼Œå¹¶ä¸ä¼šä¿å­˜ä½ çš„ç…§ç‰‡å’Œè§†é¢‘</h3>
    <video id="video" autoplay></video>
    <button id="startButton">å¼€å§‹</button>
    <button id="stopButton">åœæ­¢</button>
    <img id="randomImage" src="" alt="éšæœºå›¾ç‰‡">
    <a href="/index.html">å›åˆ°ä¸»é¡µ</a>
</div>
<script>
    const videoElement = document.getElementById('video');
    const startButton = document.getElementById('startButton');
    const stopButton = document.getElementById('stopButton');
    let mediaStream = null;

    startButton.onclick = async () => {
        try {
            // è¯·æ±‚è®¿é—®æ‘„åƒå¤´
            mediaStream = await navigator.mediaDevices.getUserMedia({video: true});
            videoElement.srcObject = mediaStream; // å°†è§†é¢‘æµç»‘å®šåˆ° <video> å…ƒç´ 
        } catch (error) {
            console.error('è·å–æ‘„åƒå¤´å¤±è´¥:', error);
        }
    };

    stopButton.onclick = () => {
        if (mediaStream) {
            // åœæ­¢æ‰€æœ‰åª’ä½“è½¨é“
            mediaStream.getTracks().forEach(track => track.stop());
            videoElement.srcObject = null; // æ¸…ç©º <video> å…ƒç´ çš„åª’ä½“æº
        }
    };
    function getRandomImage() {
        var totalImages = 268; // å‡è®¾æœ‰268å¼ å›¾ç‰‡ï¼ˆ001.jpgåˆ°268.jpgï¼‰
        var randomIndex = Math.floor(Math.random() * totalImages) + 1; // éšæœºè·å–ç´¢å¼•
        var imagePath = '/resources/jpgs/' + randomIndex.toString().padStart(3, '0') + '.jpg'; // ä½¿ç”¨ padStart å¤„ç†åºå·
        document.getElementById('randomImage').src = imagePath; // è®¾ç½®å›¾ç‰‡æº
    }



    // åœ¨é¡µé¢åŠ è½½æ—¶è°ƒç”¨å‡½æ•°
    window.onload = async function() {
        getRandomImage()


    };
</script>
</body>
</html>
